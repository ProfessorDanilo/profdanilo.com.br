<h2 class="tm-pt-30 tm-color-primary tm-post-title">Aula 12 - 17/08/2023</h2>
<h2 class="tm-pt-30 tm-color-primary tm-post-title">
  Ultrassom - Funcionamento do sensor
</h2>

<p>
  Baixe o
  <a
    href="https://profdanilo.com.br/robotica/download/2023/8ano/Aula 12 - Ultrassom - Introdução.pdf"
    target="_blank"
    >conteúdo da aula 12</a
  >
  que foi impresso e entregue pelo professor durante a aula.
</p>
<p>
  Lembre-se de que você vai ter que enviar o arquivo para o Arduino. Veja o
  vídeo a seguir para ver como proceder.
</p>

<br />
<div class="centro">
  <video width="954" height="535" controls class="tm-mb-40">
    <source
      src="Arquivos/video/Como Enviar Programa ao Arduino UNO.mp4"
      type="video/mp4"
    />
    Your browser does not support the video tag.
  </video>
</div>
<br />
<p>
  Para a aula de hoje, você pode copiar o código abaixo ou no pdf com link
  acima.
</p>
<br />
<br />
<br />
<pre>
<font color="#00979c">int</font> <font color="#000000">echo</font> <font color="#434f54">=</font> <font color="#000000">2</font><font color="#434f54">,</font> <font color="#000000">trigger</font> <font color="#434f54">=</font> <font color="#000000">3</font><font color="#000000">;</font>

<font color="#00979c">long</font> <font color="#000000">tempo</font><font color="#000000">;</font>

<font color="#00979c">void</font> <font color="#5e6d03">setup</font><font color="#000000">(</font><font color="#000000">)</font> <font color="#000000">{</font>
 &nbsp;<font color="#d35400">pinMode</font><font color="#000000">(</font><font color="#000000">echo</font><font color="#434f54">,</font> <font color="#00979c">INPUT</font><font color="#000000">)</font><font color="#000000">;</font> &nbsp;
 &nbsp;<font color="#d35400">pinMode</font><font color="#000000">(</font><font color="#000000">trigger</font><font color="#434f54">,</font> <font color="#00979c">OUTPUT</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<b><font color="#d35400">Serial</font></b><font color="#434f54">.</font><font color="#d35400">begin</font><font color="#000000">(</font><font color="#000000">9600</font><font color="#000000">)</font><font color="#000000">;</font>
<font color="#000000">}</font>

<font color="#00979c">void</font> <font color="#5e6d03">loop</font><font color="#000000">(</font><font color="#000000">)</font> <font color="#000000">{</font>
 &nbsp;<font color="#434f54">&#47;&#47;enviando o pulso TTL</font>
 &nbsp;<font color="#434f54">&#47;&#47;vamos forçar o desligamento do trigger</font>
 &nbsp;<font color="#d35400">digitalWrite</font><font color="#000000">(</font><font color="#000000">trigger</font><font color="#434f54">,</font> <font color="#00979c">LOW</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<font color="#434f54">&#47;&#47;aqui usamos uma nova função para esperar microssegundos</font>
 &nbsp;<font color="#d35400">delayMicroseconds</font><font color="#000000">(</font><font color="#000000">2</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<font color="#434f54">&#47;&#47;inicialndo o pulso TTL</font>
 &nbsp;<font color="#d35400">digitalWrite</font><font color="#000000">(</font><font color="#000000">trigger</font><font color="#434f54">,</font> <font color="#00979c">HIGH</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<font color="#434f54">&#47;&#47;aguardando 10 milissegundos</font>
 &nbsp;<font color="#d35400">delayMicroseconds</font><font color="#000000">(</font><font color="#000000">10</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<font color="#434f54">&#47;&#47;finalizando o pulso TTL</font>
 &nbsp;<font color="#d35400">digitalWrite</font><font color="#000000">(</font><font color="#000000">trigger</font><font color="#434f54">,</font> <font color="#00979c">LOW</font><font color="#000000">)</font><font color="#000000">;</font>


 &nbsp;<font color="#434f54">&#47;&#47;nova função: para medir o pulso </font>
 &nbsp;<font color="#434f54">&#47;&#47;TTL enviada pelo módulo</font>
 &nbsp;<font color="#000000">tempo</font> <font color="#434f54">=</font> <font color="#d35400">pulseIn</font><font color="#000000">(</font><font color="#000000">echo</font><font color="#434f54">,</font><font color="#00979c">HIGH</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<font color="#434f54">&#47;&#47;Note que temos que informar a porta</font>
 &nbsp;<font color="#434f54">&#47;&#47;e se o sinal lido é alto ou baixo</font>


 &nbsp;<font color="#434f54">&#47;&#47;vamos exibir isso no serial monitor</font>
 &nbsp;<b><font color="#d35400">Serial</font></b><font color="#434f54">.</font><font color="#d35400">print</font><font color="#000000">(</font><font color="#005c5f">&#34;O tempo de medida do eco é de &#34;</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<b><font color="#d35400">Serial</font></b><font color="#434f54">.</font><font color="#d35400">print</font><font color="#000000">(</font><font color="#000000">tempo</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<b><font color="#d35400">Serial</font></b><font color="#434f54">.</font><font color="#d35400">println</font><font color="#000000">(</font><font color="#005c5f">&#34; microssegundos&#34;</font><font color="#000000">)</font><font color="#000000">;</font>


 &nbsp;<font color="#434f54">&#47;&#47;pulando linhas e esperando </font>
 &nbsp;<font color="#434f54">&#47;&#47;1 segundo para fazer outra medida</font>
 &nbsp;<b><font color="#d35400">Serial</font></b><font color="#434f54">.</font><font color="#d35400">println</font><font color="#000000">(</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<font color="#d35400">delay</font><font color="#000000">(</font><font color="#000000">1000</font><font color="#000000">)</font><font color="#000000">;</font><font color="#434f54">&#47;&#47;espera um segundo</font>
<font color="#000000">}</font>

</pre>
